# nodejs-blog

목표:

  express.js를 기반으로 한 간단한 블로그 개발 (개인적인 공부용)

개발 노트:

  // 20.09.05
  
  express-generator로 기본 셋팅
  
  startbootstrap.com 에서 블로그형 템플릿 받아서 적용함
  
  하지만 홈 화면에 해당되는 템플릿이 없어 블로그 템플릿 참고하여 홈화면 템플릿 구현해야함
  
  홈화면 구조 (구현 예정) : 상단 >> 메인 배너, 하단 >> 최근 글 목록, 우측 >> 카테고리란(클릭 시 각 카테고리에 해당하는 블로그 포스트 목록으로 진입)

  // 20.09.06

  기존 홈화면 템플릿을 Post의 리스트에 이용할 예정이므로 옮기고

  홈화면에 메인 배너와 최근 글 목록을 볼 수 있게 템플릿을 구현함

  네비게이션 메뉴 Posts에 드롭다운메뉴를 적용해서 카테고리별로 이동할 수 있도록 세팅함

  URL은 /posts/  => 전체 글 목록, /posts/category/카테고리명 => 카테고리에 해당하는 글 목록

  // 20.09.07

  Mysql를 이용해서 Post의 데이터들을 저장함

  우선 CRUD에서 Create, Read만 구현함

  홈화면에서 최근 글 목록을 확인할 수 있고

  블로그화면에서 전체 글 목록을 확인할 수 있고 New 버튼으로 글 작성 페이지로 넘어가서 Create 가능하게끔 구현함

  다음 작업 때는 Update와 Delete을 우선적으로 구현할 예정

  // 20.09.08
  
  Update, Delete 하기 전에 먼저 글 보기 페이지를 구현하고자 함

  Read More 버튼을 누르면 글의 id를 Where조건으로 하여 글의 제목, 내용을 추출해서 보여줌

  댓글 기능도 마찬가지로 CRUD 이후에 구현 예정

  // 20.09.09

  글 보기 페이지 아래쪽에 Edit, Delete, Back 버튼 추가

  Edit의 경우는 버튼 클릭 시 Edit Form 화면으로 넘어가서 해당 글의 데이터를 불러오고 수정.
  
  그 후에 submit하면 HTTP method의 PUT으로 데이터를 받아 Mysql에서 Update 처리하고 해당 글로 redirect

  Delete의 경우는 버튼 클릭 시 삭제하겠냐는 경고창을 띄우고 예. 라고 답할 시 HTTP method의 DELETE로 글 번호를 받아 Mysql에서 Delete 처리하고 글 목록으로 redirect

  다음 작업 때는 간단하게 회원가입과 로그인을 할 수 있도록 구현할 예정

  // 20.09.10

  상단 nav 바에 로그인/ 회원가입 버튼을 만들고 회원가입 버튼을 누르면 회원가입 페이지로 넘어감

  개인정보를 입력하고 SIGN UP 버튼을 누르면 users 테이블에 저장. 패스워드는 bcrypt로 암호화처리

  다음 작업 때는 로그인 페이지를 만들고 passport를 이용해서 사용자 로그인/세션을 구현할 예정

  // 20.09.11

  상단 nav 바에 로그인 버튼을 누르면 login form으로 이동

  입력값 검증을 하여 누락된 입력데이터가 있거나 Username과 Password가 일치하지 않는 계정일 경우

  connect-flash를 이용하여 에러메시지를 출력하도록 구현함

  로그인에 성공하면 passport local-strategy를 사용해서 세션에서 사용자의 id 값을 가지고 관리함

  세션에 정상적으로 로그인된 것이 확인이 되면 상단 nav바는 username과 로그아웃 버튼이 보여지게 되고

  로그아웃 버튼을 누르면 정상적으로 세션에서 로그인 정보는 폐기되고 로그인 전 화면과 같이 돌아가게 됨

  다음 작업 때는 게시물 작성 form과 회원가입 form에 입력 데이터 검증 기능을 추가할 예정임

  // 20.09.12

  이제 게시물을 작성하기 직전에 각 input의 value을 조사해서 title과 category의 값을 반드시 입력해야 작성할 수 있게끔 구현함

  회원가입도 마찬가지로 필수 사항은 input box는 submit할때 반드시 값이 존재해야 하고,

  username의 경우 5~20의 글자 제한, password의 경우 8~40의 글자 제한을 뒀음

  password와 confirm password가 다를 경우 또한 경고를 띄우며 이미 존재하는 username이 있을 시에도 경고를 띄움

  회원가입을 성공적으로 마치면 자동적으로 login()을 통해 로그인됨

  다음 작업 때는 category의 db구조를 설계하고 글목록/작성에 카테고리를 반영할 수 있게끔 구현할 예정

  시간이 남으면 글작성 에디터 라이브러리를 하나 가져와서 넣어야겠음

